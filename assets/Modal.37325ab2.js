import{c as W}from"./index.98b455f9.js";import{e as J,o as ue,s as $,u as m,l as xe,c as fe,C as Ve,d as Ge,f as ze,r as Re,g as ke,h as Xe,t as Ye}from"./Form.e7a8da8e.js";import{d as qe,u as Ne,a as Je,b as Qe,c as Me,q as B,e as Ze}from"./useWindow.12d9eada.js";import{r as i,j as c,F as be,b as et,a as Oe}from"./index.df026387.js";import{u as he,c as tt}from"./ThemeProvider.b986e3c5.js";function ot(e){var t=i.exports.useRef(e);return t.current=e,t}function Se(e){var t=ot(e);i.exports.useEffect(function(){return function(){return t.current()}},[])}var q;function Ce(e){if((!q&&q!==0||e)&&J){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),q=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return q}function ie(e){e===void 0&&(e=ue());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function nt(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Te=qe("modal-open");class ge{constructor({ownerDocument:t,handleContainerOverflow:o=!0,isRTL:n=!1}={}){this.handleContainerOverflow=o,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return nt(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const o={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[n]:s.style[n]},t.scrollBarWidth&&(o[n]=`${parseInt($(s,n)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(Te,""),$(s,o)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const o=this.getElement();o.removeAttribute(Te),Object.assign(o.style,t.style)}add(t){let o=this.modals.indexOf(t);return o!==-1||(o=this.modals.length,this.modals.push(t),this.setModalAttributes(t),o!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),o}remove(t){const o=this.modals.indexOf(t);o!==-1&&(this.modals.splice(o,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const le=(e,t)=>J?e==null?(t||ue()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function st(e,t){const o=Ne(),[n,s]=i.exports.useState(()=>le(e,o==null?void 0:o.document));if(!n){const r=le(e);r&&s(r)}return i.exports.useEffect(()=>{t&&n&&t(n)},[t,n]),i.exports.useEffect(()=>{const r=le(e);r!==n&&s(r)},[e,n]),n}const rt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function at(e,t){if(e==null)return{};var o={},n=Object.keys(e),s,r;for(r=0;r<n.length;r++)s=n[r],!(t.indexOf(s)>=0)&&(o[s]=e[s]);return o}let de;function it(e){return de||(de=new ge({ownerDocument:e==null?void 0:e.document})),de}function lt(e){const t=Ne(),o=e||it(t),n=i.exports.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>o.add(n.current),remove:()=>o.remove(n.current),isTopModal:()=>o.isTopModal(n.current),setDialogRef:i.exports.useCallback(s=>{n.current.dialog=s},[]),setBackdropRef:i.exports.useCallback(s=>{n.current.backdrop=s},[])})}const Ae=i.exports.forwardRef((e,t)=>{let{show:o=!1,role:n="dialog",className:s,style:r,children:E,backdrop:u=!0,keyboard:v=!0,onBackdropClick:M,onEscapeKeyDown:g,transition:f,backdropTransition:b,autoFocus:I=!0,enforceFocus:j=!0,restoreFocus:Q=!0,restoreFocusOptions:C,renderDialog:H,renderBackdrop:Z=l=>c("div",Object.assign({},l)),manager:ee,container:te,onShow:_,onHide:K=()=>{},onExit:U,onExited:P,onExiting:V,onEnter:G,onEntering:z,onEntered:X}=e,Y=at(e,rt);const T=st(te),d=lt(ee),oe=Je(),ne=Qe(o),[y,w]=i.exports.useState(!o),p=i.exports.useRef(null);i.exports.useImperativeHandle(t,()=>d,[d]),J&&!ne&&o&&(p.current=ie()),!f&&!o&&!y?w(!0):o&&y&&w(!1);const k=m(()=>{if(d.add(),D.current=xe(document,"keydown",re),N.current=xe(document,"focus",()=>setTimeout(x),!0),_&&_(),I){const l=ie(document);d.dialog&&l&&!Me(d.dialog,l)&&(p.current=l,d.dialog.focus())}}),h=m(()=>{if(d.remove(),D.current==null||D.current(),N.current==null||N.current(),Q){var l;(l=p.current)==null||l.focus==null||l.focus(C),p.current=null}});i.exports.useEffect(()=>{!o||!T||k()},[o,T,k]),i.exports.useEffect(()=>{!y||h()},[y,h]),Se(()=>{h()});const x=m(()=>{if(!j||!oe()||!d.isTopModal())return;const l=ie();d.dialog&&l&&!Me(d.dialog,l)&&d.dialog.focus()}),se=m(l=>{l.target===l.currentTarget&&(M==null||M(l),u===!0&&K())}),re=m(l=>{v&&l.keyCode===27&&d.isTopModal()&&(g==null||g(l),l.defaultPrevented||K())}),N=i.exports.useRef(),D=i.exports.useRef(),ae=(...l)=>{w(!0),P==null||P(...l)},O=f;if(!T||!(o||O&&!y))return null;const F=Object.assign({role:n,ref:d.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},Y,{style:r,className:s,tabIndex:-1});let R=H?H(F):c("div",Object.assign({},F,{children:i.exports.cloneElement(E,{role:"document"})}));O&&(R=c(O,{appear:!0,unmountOnExit:!0,in:!!o,onExit:U,onExiting:V,onExited:ae,onEnter:G,onEntering:z,onEntered:X,children:R}));let S=null;if(u){const l=b;S=Z({ref:d.setBackdropRef,onClick:se}),l&&(S=c(l,{appear:!0,in:!!o,children:S}))}return c(be,{children:et.createPortal(Oe(be,{children:[S,R]}),T)})});Ae.displayName="Modal";const dt=Object.assign(Ae,{Manager:ge});function ct(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function ut(e,t){e.classList?e.classList.add(t):ct(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function we(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ft(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=we(e.className,t):e.setAttribute("class",we(e.className&&e.className.baseVal||"",t))}const L={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ht extends ge{adjustAndStore(t,o,n){const s=o.style[t];o.dataset[t]=s,$(o,{[t]:`${parseFloat($(o,t))+n}px`})}restore(t,o){const n=o.dataset[t];n!==void 0&&(delete o.dataset[t],$(o,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const o=this.getElement();if(ut(o,"modal-open"),!t.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";B(o,L.FIXED_CONTENT).forEach(r=>this.adjustAndStore(n,r,t.scrollBarWidth)),B(o,L.STICKY_CONTENT).forEach(r=>this.adjustAndStore(s,r,-t.scrollBarWidth)),B(o,L.NAVBAR_TOGGLER).forEach(r=>this.adjustAndStore(s,r,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const o=this.getElement();ft(o,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";B(o,L.FIXED_CONTENT).forEach(r=>this.restore(n,r)),B(o,L.STICKY_CONTENT).forEach(r=>this.restore(s,r)),B(o,L.NAVBAR_TOGGLER).forEach(r=>this.restore(s,r))}}let ce;function gt(e){return ce||(ce=new ht(e)),ce}const pt=fe("modal-body"),mt=i.exports.createContext({onHide(){}}),Be=mt,Le=i.exports.forwardRef(({bsPrefix:e,className:t,contentClassName:o,centered:n,size:s,fullscreen:r,children:E,scrollable:u,...v},M)=>{e=he(e,"modal");const g=`${e}-dialog`,f=typeof r=="string"?`${e}-fullscreen-${r}`:`${e}-fullscreen`;return c("div",{...v,ref:M,className:W(g,t,s&&`${e}-${s}`,n&&`${g}-centered`,u&&`${g}-scrollable`,r&&f),children:c("div",{className:W(`${e}-content`,o),children:E})})});Le.displayName="ModalDialog";const De=Le,Et=fe("modal-footer"),vt={closeLabel:"Close",closeButton:!1},Fe=i.exports.forwardRef(({closeLabel:e,closeVariant:t,closeButton:o,onHide:n,children:s,...r},E)=>{const u=i.exports.useContext(Be),v=m(()=>{u==null||u.onHide(),n==null||n()});return Oe("div",{ref:E,...r,children:[s,o&&c(Ve,{"aria-label":e,variant:t,onClick:v})]})});Fe.defaultProps=vt;const yt=Fe,xt={closeLabel:"Close",closeButton:!1},pe=i.exports.forwardRef(({bsPrefix:e,className:t,...o},n)=>(e=he(e,"modal-header"),c(yt,{ref:n,...o,className:W(t,e)})));pe.displayName="ModalHeader";pe.defaultProps=xt;const Rt=pe,Mt=Ge("h4"),bt=fe("modal-title",{Component:Mt}),Ct={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:De};function Tt(e){return c(ke,{...e,timeout:null})}function wt(e){return c(ke,{...e,timeout:null})}const me=i.exports.forwardRef(({bsPrefix:e,className:t,style:o,dialogClassName:n,contentClassName:s,children:r,dialogAs:E,"aria-labelledby":u,"aria-describedby":v,"aria-label":M,show:g,animation:f,backdrop:b,keyboard:I,onEscapeKeyDown:j,onShow:Q,onHide:C,container:H,autoFocus:Z,enforceFocus:ee,restoreFocus:te,restoreFocusOptions:_,onEntered:K,onExit:U,onExiting:P,onEnter:V,onEntering:G,onExited:z,backdropClassName:X,manager:Y,...T},d)=>{const[oe,ne]=i.exports.useState({}),[y,w]=i.exports.useState(!1),p=i.exports.useRef(!1),k=i.exports.useRef(!1),h=i.exports.useRef(null),[x,se]=Ze(),re=ze(d,se),N=m(C),D=tt();e=he(e,"modal");const ae=i.exports.useMemo(()=>({onHide:N}),[N]);function O(){return Y||gt({isRTL:D})}function F(a){if(!J)return;const A=O().getScrollbarWidth()>0,ye=a.scrollHeight>ue(a).documentElement.clientHeight;ne({paddingRight:A&&!ye?Ce():void 0,paddingLeft:!A&&ye?Ce():void 0})}const R=m(()=>{x&&F(x.dialog)});Se(()=>{Re(window,"resize",R),h.current==null||h.current()});const S=()=>{p.current=!0},l=a=>{p.current&&x&&a.target===x.dialog&&(k.current=!0),p.current=!1},Ee=()=>{w(!0),h.current=Ye(x.dialog,()=>{w(!1)})},$e=a=>{a.target===a.currentTarget&&Ee()},We=a=>{if(b==="static"){$e(a);return}if(k.current||a.target!==a.currentTarget){k.current=!1;return}C==null||C()},Ie=a=>{!I&&b==="static"?(a.preventDefault(),Ee()):I&&j&&j(a)},je=(a,A)=>{a&&F(a),V==null||V(a,A)},He=a=>{h.current==null||h.current(),U==null||U(a)},_e=(a,A)=>{G==null||G(a,A),Xe(window,"resize",R)},Ke=a=>{a&&(a.style.display=""),z==null||z(a),Re(window,"resize",R)},Ue=i.exports.useCallback(a=>c("div",{...a,className:W(`${e}-backdrop`,X,!f&&"show")}),[f,X,e]),ve={...o,...oe};ve.display="block";const Pe=a=>c("div",{role:"dialog",...a,style:ve,className:W(t,e,y&&`${e}-static`),onClick:b?We:void 0,onMouseUp:l,"aria-label":M,"aria-labelledby":u,"aria-describedby":v,children:c(E,{...T,onMouseDown:S,className:n,contentClassName:s,children:r})});return c(Be.Provider,{value:ae,children:c(dt,{show:g,ref:re,backdrop:b,container:H,keyboard:!0,autoFocus:Z,enforceFocus:ee,restoreFocus:te,restoreFocusOptions:_,onEscapeKeyDown:Ie,onShow:Q,onHide:C,onEnter:je,onEntering:_e,onEntered:K,onExit:He,onExiting:P,onExited:Ke,manager:O(),transition:f?Tt:void 0,backdropTransition:f?wt:void 0,renderBackdrop:Ue,renderDialog:Pe})})});me.displayName="Modal";me.defaultProps=Ct;const Bt=Object.assign(me,{Body:pt,Header:Rt,Title:bt,Footer:Et,Dialog:De,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{Bt as M};
