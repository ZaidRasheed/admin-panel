import{r as n,U as C,j as e,F as b,a as r,L as A,u as R}from"./index.e41bcda1.js";import{A as g,B as x,a as t}from"./Form.3eb353d2.js";import{M as f}from"./Modal.7cdb9812.js";import{u as L}from"./Admin.5a57945e.js";import"./index.98b455f9.js";import"./index.cc2a9edf.js";import"./ThemeProvider.7dc36abb.js";import"./useWindow.a5e26b98.js";function U(){const[d,s]=n.exports.useState(!1),i=()=>{o(""),u(""),l(!1),s(!1)},v=()=>s(!0),c=n.exports.useRef(),a=n.exports.useRef(),p=n.exports.useRef(),[m,u]=n.exports.useState(""),[h,o]=n.exports.useState(""),[N,l]=n.exports.useState(!1),{resetPassword:S}=C();function P(y){if(y.preventDefault(),l(!0),a.current.value!==p.current.value)return l(!1),o("Passwords do not match.");if(c.current.value===a.current.value)return l(!1),o("New password can't be the same as the old one.");if(a.current.value.length<6)return l(!1),o("Weak Password.");S(c.current.value,a.current.value).then(w=>{w.status==="success"?u(w.message):(l(!1),o(w.message))}).catch(w=>{l(!1),o("Error, Couldn't Update password ")})}return{show:d,handleShow:v,handleClose:i,oldPassword:c,passwordRef:a,passwordConfirmRef:p,loading:N,handleSubmit:P,ErrorAlert:e(b,{children:h&&e(g,{variant:"danger",onClose:()=>o(""),dismissible:!0,children:h})}),SuccessAlert:e(b,{children:m&&e(g,{variant:"success",onClose:()=>u(""),dismissible:!0,children:m})})}}function k(){const{show:d,handleShow:s,handleClose:i,oldPassword:v,passwordRef:c,passwordConfirmRef:a,loading:p,handleSubmit:m,ErrorAlert:u,SuccessAlert:h}=U();return r("div",{className:"w-100 text-center mt-5",children:[e(x,{variant:"link",onClick:s,children:e("h4",{className:"m-0",children:"Update Password?"})}),r(f,{centered:!0,show:d,onHide:i,children:[e(f.Header,{closeButton:!0,children:e(f.Title,{children:"Update Password"})}),r(f.Body,{children:[r("div",{className:"w-100",children:[u,h,r(t,{onSubmit:m,children:[r(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Old Password"}),e(t.Control,{type:"password",ref:v,autoComplete:"current-password",required:!0})]}),r(t.Group,{className:"mb-3",children:[e(t.Label,{children:"New Password"}),e(t.Control,{type:"password",ref:c,autoComplete:"current-password",required:!0})]}),r(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Confirm New Password"}),e(t.Control,{type:"password",ref:a,autoComplete:"current-password",required:!0})]}),e(x,{disabled:p,className:"w-100 mt-3 mb-3",type:"submit",children:" Submit"})]})]}),r("div",{className:"w-100 text-center mt-2",children:["Forgot password? ",e(A,{to:"/reset-password",children:"Reset"})]})]})]})]})}function z(){const{logOut:d}=C(),{admin:s}=L(),i=R();return r("div",{style:{margin:"20px 0 0 50px",position:"relative",width:"90vw",maxWidth:"1300px"},children:[e("p",{className:"display-1",children:"Profile"}),r("p",{className:"display-5",children:["Hello ",(s==null?void 0:s.gender)==="male"?"Mr.":"Mrs."," ",s==null?void 0:s.name]}),r("p",{className:"display-6",children:["Email: ",s==null?void 0:s.email]}),e(k,{}),e(x,{style:{position:"absolute",top:"20px",right:"20px",borderWidth:"2px"},variant:"outline-dark",size:"lg",onClick:()=>{d(),i("/admin-panel")},children:"Logout"})]})}export{z as default};
