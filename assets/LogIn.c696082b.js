import{j as e,r as c,U as b,u as v,F as C,a,L as N}from"./index.e41bcda1.js";import{c as I,F as f,A as L,a as o,B as R}from"./Form.3eb353d2.js";import{C as A}from"./Container.9acf00c7.js";import{C as h}from"./Card.2497efd3.js";import{c as G}from"./index.98b455f9.js";import{u as k}from"./ThemeProvider.7dc36abb.js";import{I as E}from"./InputGroupContext.75900021.js";import"./index.cc2a9edf.js";const m=I("input-group-text",{Component:"span"}),F=r=>e(m,{children:e(f,{type:"checkbox",...r})}),j=r=>e(m,{children:e(f,{type:"radio",...r})}),g=c.exports.forwardRef(({bsPrefix:r,size:n,hasValidation:i,className:s,as:l="div",...t},p)=>{r=k(r,"input-group");const d=c.exports.useMemo(()=>({}),[]);return e(E.Provider,{value:d,children:e(l,{ref:p,...t,className:G(s,r,n&&`${r}-${n}`,i&&"has-validation")})})});g.displayName="InputGroup";const u=Object.assign(g,{Text:m,Radio:j,Checkbox:F});function B(){const{logIn:r}=b(),n=v(),i=c.exports.useRef(),s=c.exports.useRef(),[l,t]=c.exports.useState(""),[p,d]=c.exports.useState(!1);async function x(w){if(w.preventDefault(),t(""),d(!0),s.current.value.length<4)return d(!1),t("Invalid Password");try{await r(i.current.value.trim(),s.current.value.trim()),n("/admin-dashboard")}catch(y){switch(y.code){case"auth/user-not-found":{t(`A username with this email doesn't exist,
 Sign up instead?`);break}case"auth/wrong-password":{t("Wrong password please try again");break}case"auth/too-many-requests":{t("Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later.");break}default:t("Failed to login")}d(!1)}}return{emailRef:i,passwordRef:s,loading:p,handLogin:x,ErrorAlert:e(C,{children:l&&e(L,{variant:"danger",onClose:()=>t(""),dismissible:!0,children:l})})}}function M(){const{emailRef:r,passwordRef:n,loading:i,handLogin:s,ErrorAlert:l}=B();return e(A,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:a("div",{className:"w-100",style:{maxWidth:"450px"},children:[e(h,{className:"p-2",children:a(h.Body,{children:[e("h2",{className:"text-center mb-4",children:"Admin Login"}),l,a(o,{onSubmit:s,children:[a(o.Group,{className:"mb-3",children:[e(o.Label,{children:"Email"}),a(u,{children:[e(u.Text,{children:"@"}),e(o.Control,{type:"email",ref:r,autoComplete:"email",placeholder:"Email","aria-label":"Email",required:!0})]})]}),a(o.Group,{className:"mb-3",children:[e(o.Label,{children:"Password"}),a(u,{children:[e(u.Text,{children:"*"}),e(o.Control,{type:"password",ref:n,autoComplete:"current-password",placeholder:"Password","aria-label":"Password",required:!0})]})]}),e(R,{disabled:i,className:"w-100 mt-3 mb-3",type:"submit",children:"Login"})]})]})}),a("div",{className:"w-100 text-center mt-2",children:["Forgot password? ",e(N,{to:"/reset-password",children:"Reset"})]})]})})}export{M as default};
